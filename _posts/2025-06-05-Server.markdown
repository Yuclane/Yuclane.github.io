# 서버 및 네트워크 인프라 가이드

## 목차
1. [서버](#서버)
   - [서버 종류](#서버-종류)
   - [서버 선정](#서버-선정)
2. [메모리](#메모리)
3. [CPU](#cpu)
4. [디스크](#디스크)
5. [RAID](#raid)
6. [가상화](#가상화)
7. [네트워크 장비](#네트워크-장비)
8. [스토리지](#스토리지)

---

## 서버

### 서버 종류

#### 랙 마운트 서버

**랙이란?**
- 서버 또는 네트워크 장비들을 넣어두는 철체 프레임
- 데이터센터나 서버 룸과 같이 다수의 서버/네트워크 장비들을 두는 곳에서 사용

**랙을 사용하는 이유**
- 작은 공간을 효율적으로 사용
- 장비들을 안정적으로 보호

**랙 사용 시 고려사항**
- 처리 능력, 스토리지 용량 및 데이터 센터 내의 물리적 공간 가용성
- 유닛(1.75 Inch)이 늘어날 때마다 공간과 발열 관리 부담 증가
- 많은 메모리, 충분한 스토리지 확보 가능

#### 타워형 서버

**특징**
- 데이터 센터 입주용으로는 잘 사용되지 않음 (입주 비용이 비쌈)
- 4U 서버나 5U 랙서버에 해당하는 상면 비용 발생
- 1U 서버에 비해 4배 이상 비싼 임대료

**장점**
- 워크스테이션 겸용 플랫폼인 경우가 많음
- 소음이 작고 확장성이 우수
- 사무실에 두고 쓰는 소규모 인원 관리 서버로 인기

### 서버 분류 (성능별)

| 분류 | 특징 | 용도 | CPU 소켓 |
|------|------|------|----------|
| **엔트리 서버** | 전력소모, 발열, 소음이 가장 낮음 | 웹 서버, 애플리케이션 서버 | 1~2개 |
| **미들레인지 서버** | 수천만 원대, 기간계 시스템 | 데이터베이스 서버, 기간계 서버 | 4개 이상 |
| **하이엔드 서버** | 수억 원대, 최고 성능 | 데이터베이스 서버, 기간계 서버 | 수십 개 이상 |

> **기간계 시스템**: 기업 경영을 지속하는데 핵심이 되는 재무관리, 업무관리, 생산관리 등을 담당하는 시스템

### 서버 아키텍처

#### IA 서버
- 인텔이나 AMD 등 인텔 호환 CPU를 탑재
- 일반 컴퓨터와 같은 아키텍처 기반

**IA 서버 선택 시 고려사항**
- ✅ 데이터센터의 랙에 서버가 제대로 장착되는가?
- ✅ 설치할 수 있는 부품수 (하드디스크, 메모리 등)
- ✅ 장애 발생시 지원 체계
- ✅ 원격 제어 기능
- ✅ 납기

#### 엔터프라이즈 서버
- 기본적으로 모두 비쌈
- 대량 액세스에도 견딜 수 있는 수용량과 내구성
- IA 서버와 달리 고가라 보통 다룰 기회가 거의 없음

### 서버 선정

#### 서버 사양 결정 방법

1. **실제 환경 시험 구축**
   - 기간계 시스템이나 중요한 시스템에 권장
   - 많은 노력과 시간이 필요

2. **실제 투입 후 측정**
   - 온라인 게임처럼 액세스 양이 정해지지 않은 경우 권장
   - 하드웨어 자원 이용 상황을 측정 후 조정

3. **소거법으로 사양 결정**
   - 웹 서버의 경우 메모리 이외의 리소스는 적게 소비
   - 메모리만 넉넉하게 설치 후 나머지는 최소 사양

#### 확장 방법

| 방법 | 설명 |
|------|------|
| **스케일 아웃** | 성능이 부족하면 서버의 수를 늘려서 수용량을 늘리는 방법 |
| **스케일 업** | 메모리 증설 등 부품을 추가/업그레이드하여 서버 성능을 높이는 방법 |

---

## 메모리

### 메모리 개요
- 단기 기억 영역
- 일시적으로 데이터를 기억 (휘발성/비휘발성으로 분류)
- 메모리 용량, 내장애성, 성능, 저전력 등이 중시됨

### DDR SDRAM 종류

#### DDR3 (2007년 출시)
- 현재도 사용 중

#### DDR4 (2014년 출시)
- 2015년부터 가격 급격히 하락
- 중저가 메인보드에도 기본 지원
- AMD AM4 기반 메인보드부터 지원

#### DDR5 (2020년 7월 표준 발표)
**주요 특징:**
- 용량과 대역폭 향상, 전압 감소
- DIMM 하나당 64bit → 32bit 듀얼 채널로 구성
- 램 다이 내 ECC 컨트롤러 내장
- on-DIMM 전압 조정기 장착

### 메모리 성능
- 메모리 자체의 속도와 CPU, 버스 간의 데이터 전송폭을 모두 고려
- **예시**: DDR5-5600 램의 내부 동작 속도는 5600MHz → 44,800MB/s

### 메모리 타입

#### ECC 메모리
- 다양한 원인으로 발생하는 메모리 오류를 검출/수정
- 싱글비트(1비트) 오류는 시스템에 의해 수정 가능
- 멀티비트 오류도 별도 칩셋을 통해 감지 가능

#### REG 메모리 (레지스터드 메모리)
- 서버용으로 사용
- 별도의 메모리 컨트롤러가 붙어 있음
- 수십 개의 메모리 장착 시에도 효율적 관리
- 고용량 메모리 제작 가능

### 메모리 구성

| 구성 요소 | 설명 |
|-----------|------|
| **채널** | CPU와 메인보드가 지원하는 RAM의 최대 개수 (듀얼, 트리플 등) |
| **랭크** | 1개의 DIMM에 64비트 DRAM 그룹 개수 (싱글/듀얼 랭크) |
| **슬롯** | 메인보드에서 RAM을 삽입하는 슬롯 |

### 메모리 모듈 타입

| 타입 | 특징 | 용도 |
|------|------|------|
| **DIMM** | 데스크톱, 서버, 워크스테이션에 가장 널리 사용 | 일반용 |
| **RDIMM** | 추가 레지스터 포함, 메모리 버스 전기 부하 감소 | 서버, 워크스테이션 |
| **LRDIMM** | 추가 메모리 버퍼 칩 사용, 더 높은 용량과 성능 | 하이엔드 서버, 데이터센터 |

---

## CPU

### CPU 개요
- 컴퓨터 시스템을 통제하고 프로그램의 연산을 실행·처리하는 핵심 제어 장치
- 사람의 두뇌에 해당

### 성능과 발열, 소비 전력
- 연산 능력이 높을수록 고성능 CPU
- 단일 연산 능력 ↑ → 소비 전력 ↑ → 발열 ↑
- 단일 코어 클럭 향상보다는 멀티 코어/멀티 쓰레드로 성능 향상

### CPU 스펙

| 스펙 | 설명 |
|------|------|
| **소켓** | CPU와 PCB 사이의 기계적, 전기적 연결 부품 |
| **코어 수** | 물리적으로 구성된 계산 부분의 수 |
| **스레드 수** | 물리적 + 논리적 코어의 스레드 수 합계 |
| **클럭** | 1초당 전기적 속도 (Hz), 높을수록 빠르지만 전력소모↑, 발열↑ |
| **캐시** | CPU 내부의 고속 메모리, 자주 사용되는 데이터 저장 |

### CPU 기술

#### 하이퍼 스레딩 (인텔)
- 각 코어에서 두 개 이상의 쓰레드 사용 가능
- 프로세서 리소스를 쓰레드별로 할당하여 병렬 처리

#### 터보 부스트 / 프리시전 부스트
- **인텔**: 터보 부스트 기술
- **AMD**: 프리시전 부스트 기술
- 작업에 할당된 코어가 한 개일 때 클럭을 가변적으로 늘려 성능 향상

### CPU 선정 포인트

1. **성능**: 요구하는 연산 능력을 만족하는가?
2. **가격**: 요구 스펙에 가격이 타당한가?
3. **소프트웨어 라이선스**: CPU 코어 수/소켓 수로 가격이 달라지는 소프트웨어 고려
4. **소비 전력**: 저전력 CPU는 단가가 높지만 장기적으로 유지비용 절감

---

## 디스크

### 디스크의 종류

| 종류 | 특징 | 용도 | 가동시간 |
|------|------|------|----------|
| **SATA 하드디스크** | 가격 저렴, 내장애성 낮음 | 중요하지 않은 서버 | 하루 8시간 |
| **SAS 하드디스크** | 고속, 고신뢰성 | 일반 서버 | 24시간 365일 |
| **FC 하드디스크** | 초고속, 고신뢰성 | SAN 스토리지, 엔터프라이즈 | 24시간 365일 |
| **니어라인 하드디스크** | 아카이브용 | 장기 보존 | 하루 몇 시간 |

> **내장애성**: 시스템이 장애를 받아도 정상적으로 가동될 수 있는 성능

### SSD (Solid State Drive)

#### 장점
- ✅ 데이터 대역폭이 큼
- ✅ 데이터 접근 속도가 빠름
- ✅ 소비 전력과 발열이 낮음

#### 단점
- ❌ 동일 용량 대비 하드디스크보다 비쌈
- ❌ 사용 기간이 길수록, 저가 제품일수록 성능 저하

### SSD 종류

#### 인터페이스별
- **SATA SSD**: 가장 대표적, 최대 550MB/s 처리 속도
- **mSATA SSD**: mini-SATA 인터페이스

#### 메모리 셀별

| 타입 | 특징 | 속도/내구성 | 용량 | 가격 |
|------|------|-------------|------|------|
| **SLC** | 1bit 저장, 오류 확률 적음 | 빠름 (0~100K Cycle) | 작음 | 매우 비쌈 |
| **MLC** | 2bit 저장, 적당한 성능 | 보통 (5~10K Cycle) | 보통 | 보통 |
| **TLC** | 3bit 저장, 고용량 설계 용이 | 느림 (1~3K Cycle) | 큼 | 저렴 |

### 엔터프라이즈 플래시 메모리 스토리지
- 엔터프라이즈 용도의 비휘발성 메모리
- SATA 인터페이스 대신 PCIe로 연결되는 경우가 많음

---

## RAID

### RAID 개요
- 여러 개의 디스크를 묶어 하나의 디스크처럼 사용하는 기술
- 구성 방식에 따라 성능, 용량이 달라짐

### RAID 레벨

| 레벨 | 특징 | 용량 | 성능 | 내장애성 | 용도 |
|------|------|------|------|----------|------|
| **RAID 0** | 데이터 분할 저장 | 높음 | 높음 | 낮음 | 성능 중시 |
| **RAID 1** | 미러링 (복제) | 50% | 보통 | 높음 | OS 파티션 |
| **RAID 5** | 패리티 1개, 분산 저장 | 높음 | 보통 | 높음 | 파일 서버, 로그 |
| **RAID 6** | 패리티 2개, 안정성 향상 | 보통 | 보통 | 매우 높음 | 안정성 중시 |
| **RAID 10** | RAID 0 + RAID 1 조합 | 50% | 읽기 빠름 | 높음 | 데이터베이스 |

> **RAID 2, 3, 4**: 현재는 거의 사용하지 않음

---

## 가상화

### 가상화 개요
- 한 대의 물리 서버에서 여러 개의 운영체제를 가동하는 기술
- CPU, 메모리, 네트워크, 디스크 등 하드웨어 자원을 자유롭게 할당

### 물리 서버 vs 가상 서버

| 구분 | 물리 서버 | 가상 서버 |
|------|-----------|-----------|
| **적합한 용도** | CPU 사용률, 디스크 I/O 부하가 많은 용도 | CPU 사용률, 디스크 I/O 부하가 적은 용도 |
| **주요 용도** | 데이터베이스 서버, 애플리케이션 서버 | 웹 서버, 개발 서버, 메모리 DB |

### 가상화의 장단점

#### 장점
- ✅ 비용 절감
- ✅ 하드웨어 자원을 쉽게 조정 가능
- ✅ 다른 물리 서버로 쉽게 이전 가능

#### 단점
- ❌ 다른 게스트 OS가 자원을 많이 사용하면 불안정해질 수 있음
- ❌ 사용하지 않는 게스트 OS 관리 문제

### 가상화 모델

#### 호스트 운영체제 타입
- 일반 운영체제(Windows, Linux)에 가상화 프로그램 설치

**장점**: 일반 운영체제에서 운용하므로 제약이 적음
**단점**: OS 위에 OS가 올라가므로 오버헤드가 클 수 있음

#### 하이퍼바이저 타입
- 가상화 전용 운영체제 사용

**장점**: 오버헤드가 적고, 하드웨어를 직접 제어하여 효율적
**단점**: 관리를 위한 별도 컴퓨터나 콘솔 필요

### 가상화 솔루션

| 솔루션 | 타입 | 특징 | 라이선스 |
|--------|------|------|----------|
| **VMware vSphere** | 하이퍼바이저 | 업계 최고 수준의 안정성과 편리성 | CPU 개수별 라이선스 |
| **Hyper-V (Windows Server)** | 하이퍼바이저 | 마이크로소프트 제공 | DataCenter: 물리 CPU 2개까지 |
| **Hyper-V Server** | 하이퍼바이저 | 무료 버전 | 무료 (게스트 OS 라이선스 별도) |
| **Xen** | 하이퍼바이저 | 리눅스 커널 3에 병합 | 오픈소스 |
| **KVM** | 하이퍼바이저 | 리눅스 커널 표준 기능 | 오픈소스 |

### 가상화 환경 선택 가이드

- **VMware vs Hyper-V**: Windows + Linux 혼재 → VMware, Windows 중심 → Hyper-V
- **Xen vs KVM**: Linux 중심 + 초기 비용 절약 → Xen/KVM, Red Hat 사용 → KVM

---

## 네트워크 장비

### 라우터

#### 라우터의 역할
- 수신한 패킷을 적절한 경로로 전송하는 네트워크 장비
- 네트워크를 논리적으로 나누는 역할

#### 라우팅 방법

| 방법 | 특징 | 장점 | 단점 |
|------|------|------|------|
| **정적 라우팅** | 관리자가 직접 경로 정보 지정 | 빠르고 안정적, 라우터 부담 적음 | 네트워크 변화에 대응 어려움 |
| **동적 라우팅** | 라우터 간 자동으로 정보 교환 | 대규모 네트워크 적합, 자동 관리 | 메모리 사용량 많음 |

#### 라우터 선택 포인트
- ✅ 상위 회선의 WAN 인터페이스와 일치하는가?
- ✅ WAN 통신 대역에 적합한 스루풋인가?
- ✅ 보안 기능이 필요한가? (대규모 환경에서는 분리 권장)

### 스위치

#### L2 스위치
- MAC 주소를 보고 적절한 포트로 프레임 전송
- 허브와 달리 필요한 포트로만 신호 전달 → 불필요한 트래픽 감소

#### L3 스위치
- IP 주소를 보고 적절한 포트로 패킷 전송
- 라우팅 테이블에 없으면 기본 게이트웨이로 전송

#### L4/L7 스위치 (로드 밸런서)
- **L4 스위치**: IP와 TCP/UDP 포트를 보고 서버 선택
- **L7 스위치**: URL을 보고 서버 선택
- 부하 분산 기능이 있는 L3 스위치

### 네트워크 토폴로지

#### 2계층 구조 (프론트엔드 + 백엔드)
- **프론트엔드 계층**: 인터넷에서 가까운 위치
- **백엔드 계층**: 인터넷에서 먼 위치

#### 3계층 구조
- **코어 계층**: 디스트리뷰션 계층 통신을 집약하여 인터넷 연결
- **디스트리뷰션 계층**: 통신 집약 및 액세스 계층 간 중계
- **액세스 계층**: 서버 통신을 집약하여 디스트리뷰션 계층 연결

#### 네트워크 패브릭 구조
- 액세스 계층과 L2 네트워크를 가상화
- 물리적으로 다른 랙/스위치를 논리적으로 하나의 네트워크로 구성
- 서버와 랙의 물리적 제약에서 해방

### 네트워크 기본 용어

#### 프로토콜
- 컴퓨터 또는 전자 기기 간의 원활한 통신을 위한 약속된 규약
- **TCP/IP**: 인터넷에서 일반적으로 사용되는 표준 프로토콜

#### OSI 7 Layer
- 국제 표준화 기구에서 책정한 통신 기능의 계층 구조 모델

#### TCP vs UDP

| 프로토콜 | 타입 | 특징 | 장점 | 단점 |
|----------|------|------|------|------|
| **TCP** | 연결 지향형 | 고품질 통신, 순서 보장, 재전송 | 데이터 정확도 높음 | 오버헤드 크고 느림 |
| **UDP** | 비연결형 | 상대방 응답 확인 안함 | 속도 빠름 | 정확도 낮음 |

#### TCP 3-Way Handshake
1. 클라이언트 → 서버: SYN 패킷 전송
2. 서버 → 클라이언트: ACK + SYN 패킷 전송
3. 클라이언트 → 서버: ACK 패킷 전송 → 연결 성립

#### IP 주소

| 버전 | 비트 수 | 최대 주소 수 | 표기법 |
|------|---------|--------------|--------|
| **IPv4** | 32비트 | 약 43억 개 | 점으로 구분된 10진수 |
| **IPv6** | 128비트 | 매우 많음 | 16진수 |

### 네트워크 케이블

#### LAN 케이블
- 8개의 구리 선을 연결하여 통신
- 이더넷 연결에 가장 일반적으로 사용
- 필요한 전송 대역에 따라 선택

#### 광 케이블
- 광섬유로 제작, 레이저를 이용한 통신
- 장거리 & 고속 통신 가능

**장점**: 초고속, 장거리 통신
**단점**: 유지보수 어려움, 구부리기 어려움, 고가

---

## 스토리지

### 스토리지 개요
- 데이터를 저장하는 장치
- **로컬 스토리지**: 서버 내부 저장 영역
- **외부 스토리지**: 서버 외부 저장 영역 (DAS, NAS, SAN)

### 로컬 스토리지
- 서버 내부에 디스크 설치
- 설치 공간 절약 가능
- 확장성과 설치 가능한 디스크 개수 제한

### 외부 스토리지

#### DAS (Direct Attached Storage)
- 서버에 직접 연결하는 외부 스토리지
- 운영체제가 내장 디스크처럼 인식
- **연결 방식**: RAID 컨트롤러 보드 또는 HBA 보드

**선택 시 고려사항**:
- 필요한 실제 용량, 성능, 내장애성, 확장성
- 설치 가능한 디스크 개수

#### NAS (Network Attached Storage)
- 네트워크를 통해 여러 서버가 액세스
- **프로토콜**: NFS, SMB/CIFS, AFP
- Windows PC에서는 네트워크 공유 폴더처럼 사용

**용도**:
- 여러 서버에서 데이터 공유
- 백업 및 로그 파일 중앙 집중

#### SAN (Storage Area Network)
- 블록 단위의 데이터 스토리지 전용 네트워크
- 고속 고품질 환경에서 사용

##### FC SAN (Fibre Channel SAN)
- 파이버 채널 기반의 고속 고품질 스토리지 네트워크
- 기간계 데이터베이스 등 중요한 데이터 환경에서 사용
- HBA 보드를 통해 SAN 스위치 또는 스토리지에 직접 연결

##### IP SAN
- 이더넷을 이용하여 FC SAN보다 저렴하게 구축
- **iSCSI**: SCSI 커맨드를 IP 네트워크를 통해 송수신하는 프로토콜
- L2/L3 스위치를 통해 연결

---

## 마무리

이 가이드는 서버 및 네트워크 인프라 구축을 위한 핵심 구성 요소들을 포괄적으로 다루고 있습니다. 각 기술의 특징과 선택 기준을 이해하여 요구사항에 맞는 최적의 인프라를 구축하시기 바랍니다.

### 주요 선택 기준 요약

1. **성능 요구사항**: CPU, 메모리, 스토리지 성능
2. **안정성**: 내장애성, 백업, 이중화
3. **확장성**: 향후 증설 가능성
4. **비용**: 초기 투자비용 vs 운영비용
5. **관리성**: 유지보수 편의성

---

> 📝 **참고**: 본 문서는 서버 및 네트워크 인프라에 대한 기술적 가이드로, 실제 도입 시에는 구체적인 요구사항과 환경을 종합적으로 검토하